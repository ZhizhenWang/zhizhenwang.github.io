---
layout: post
title: "Vim终端编辑器"
date: 2019-04-25 18:24:55 +0100
tags: vi vim cheatsheet
categories: 技术
---
## 1. 打开文件
### 1.1 打开或者新建文件
- 在终端中输入`vi`**在后面跟上文件名** 即可
```
$ vi 文件名
```
- 如果文件已经存在，会直接打开文件
- 如果文件不存在，会创建一个文件
### 1.2 打开文件并定位
- 例如：开发中，知道某一行有错误，可以 **快速定位** 如初
- 这个时候，可以使用以下命令打开文件
```
$ vi 文件名 +行数
```
> 提示：如果只带上`+`而不指定行号，会直接定位到文件末尾

## 2. 工作模式

vi 有三种基本工作模式：
1. **命令模式**
    - 打开文件首先进入命令模式， 
    - 通过**命令**对文件进行常规的编辑操作，例如 **定位、翻页、复制、粘帖、删除**
2. **末行模式** -- 执行 保存退出 等操作
   - 末行模式是vi的出口
3. **编辑模式** -正常的编辑文字  
![workflow](/assets/image/20190425/workflow.jpg){:width="450px"}

### 2.1 末行模式命令

| 命令 | 英文         | 功能                           |
|------|--------------|--------------------------------|
| w    | write        | 保存                           |
| q    | quit         | 退出，如果没有保存，不允许退出 |
| q!   | quit         | 强行退出，不保存               |
| wq   | write & quit | 保存并退出                     |
| x    |              | 保存并退出                     |

## 3. 常用命令
### 命令线路图
1. 重复次数
    在命令模式下，**先输入一个数字，再跟上一个命令**，可以让**该命令重复执行制定次数**
2. 移动和选择
    - 定位到指定的代码行
    - **移动命令**和**编辑操作**可以组合使用
3. 编辑操作
    - 复制、粘帖、删除、替换、缩排
4. 撤销和重复
5. 查找替换

### 3.1 移动命令
#### 基本
1). 上、下、左、右

| h    | j    | k    | l      |
|------|------|------|--------|
| ←    | ↓    | ↑    | →      |
| 食指 | 食指 | 中指 | 无名指 |

2). 行内移动

| 命令 | 英文 | 功能                 |
|------|------|----------------------|
| w    | word | 向后移动一个单词     |
| b    | back | 向前移动一个单词     |
| 0    |      | 行首                 |
| ^    |      | 行首，第一个非空字符 |
| $    |      | 行尾                 |

3). 行数移动

| 命令          | 英文 | 功能                 |
|---------------|------|----------------------|
| gg            | go   | 文件顶部             |
| G             | go   | 文件末尾             |
| 数字gg/ 数字G | go   | 移动到 数字 对应行数 |
| :数字         |      | (末行模式) 同上      |

4.) 屏幕移动

| 命令     | 英文    | 功能     |
|----------|---------|----------|
| ctrl + b | back    | 向上翻页 |
| ctrl + f | forward | 向下翻页 |
| H        | Head    | 屏幕顶部 |
| M        | Middle  | 屏幕中间 |
| L        | Low     | 屏幕底部 |

### 选中命令
### 撤销和删除
### 复制和粘贴
### 替换命令
### 缩排以及重复执行
### 查找字符串或者单词
### 查找并替换
### 进入编辑模式的6个命令
### 分屏命令
